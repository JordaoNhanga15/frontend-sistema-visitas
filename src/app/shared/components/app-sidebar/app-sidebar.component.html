<aside class="sidebar">
  <div class="brand">
    <span class="logo-box">□</span>
    <div class="brand-text">
      <span class="brand-title">MINFIN</span>
      <small>Controlo de Presença</small>
    </div>
  </div>

  <nav class="nav">
    <a
      class="nav-item"
      routerLink="/dashboard"
      routerLinkActive="active"
    >
      <mat-icon>dashboard</mat-icon>
      <span>Dashboard</span>
    </a>

    <ng-container *ngFor="let item of nav">
      <ng-container *ngIf="item.children && item.children.length; else single">
        <button class="nav-item has-children" (click)="toggleGroup(item.label)">
          <mat-icon>{{ item.icon }}</mat-icon>
          <span>{{ item.label }}</span>
          <mat-icon class="chevron" [class.open]="opened[item.label]">expand_more</mat-icon>
        </button>
        <div class="sub" *ngIf="opened[item.label]">
          <a
            *ngFor="let c of item.children"
            class="sub-item"
            [routerLink]="c.route"
            routerLinkActive="active"
          >
            {{ c.label }}
          </a>
        </div>
      </ng-container>
      <ng-template #single>
        <a
          class="nav-item"
          *ngIf="item.route && item.label !== 'Dashboard'"
          [routerLink]="item.route"
          routerLinkActive="active"
        >
          <mat-icon>{{ item.icon }}</mat-icon>
          <span>{{ item.label }}</span>
        </a>
      </ng-template>
    </ng-container>
  </nav>
</aside>
